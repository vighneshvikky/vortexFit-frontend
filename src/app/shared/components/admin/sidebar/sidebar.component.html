<div
  class="sidebar bg-gray-800 h-full overflow-y-auto"
  [class.w-64]="sidebarOpen"
  [class.w-20]="!sidebarOpen"
>
  <div class="flex flex-col h-full">
    <!-- Logo -->
    <div class="logo-container">
      <div class="logo">
        <div class="logo-icon">
          <i class="fas fa-dumbbell"></i>
        </div>
        <span class="logo-text" *ngIf="sidebarOpen">VortexFit</span>
      </div>
      <button class="toggle-btn" (click)="onToggleSidebar()">
        <i
          class="fas"
          [class.fa-chevron-left]="sidebarOpen"
          [class.fa-chevron-right]="!sidebarOpen"
        ></i>
      </button>
    </div>

    <!-- Navigation -->
    <nav class="flex-1 px-2 py-4">
      <div class="nav-items">
        <a
          *ngFor="let item of menuItems"
          [routerLink]="'/admin/' + item.id"
          routerLinkActive="active"
          class="nav-item flex items-center justify-between"
          (click)="onMenuItemClick(item.id)"
        >
          <div class="flex items-center gap-2">
            <!-- if it's a custom component like Notification -->
            <ng-container *ngIf="item.isCustomComponent; else normalIcon">
              <app-notification-icon
                [userId]="userId | async"
              ></app-notification-icon>
            </ng-container>

            <!-- fallback for normal items -->
            <ng-template #normalIcon>
              <i [class]="'fas ' + item.icon"></i>
            </ng-template>

            <span class="item-label" *ngIf="sidebarOpen">{{ item.label }}</span>
          </div>
        </a>
      </div>
    </nav>

    <!-- Logout -->
    <div class="logout-section">
      <a (click)="onLogout()" class="logout-btn">
        <i class="fas fa-sign-out-alt"></i>
        <span *ngIf="sidebarOpen">Logout</span>
      </a>
    </div>
  </div>
</div>
