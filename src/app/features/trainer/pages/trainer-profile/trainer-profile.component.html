<!-- Main Container -->
<div
  class="min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-red-100 py-8 px-4"
>
  <div class="max-w-4xl mx-auto">
    <!-- Profile Header Card -->
    <div
      *ngIf="currentTrainer$ | async as currentTrainer"
      class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden mb-8 border border-red-200/50"
    >
      <!-- Hero Section with Background -->
      <div
        class="relative h-48 bg-gradient-to-r from-red-600 via-red-700 to-orange-600"
      >
        <div class="absolute inset-0 bg-black bg-opacity-20"></div>
        <div class="absolute bottom-0 left-0 right-0 p-6">
          <div class="flex items-end space-x-6">
            <!-- Profile Image -->
            <div class="relative">
              <img
                [src]="currentTrainer?.image"
                (error)="onImageError($event)"
                alt="Trainer Profile"
                class="w-32 h-32 rounded-2xl border-4 border-white shadow-2xl object-cover"
              />
              <div
                class="absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-2 border-white flex items-center justify-center"
              >
                <i class="fas fa-check text-white text-sm"></i>
              </div>
            </div>

            <!-- Profile Info -->
            <div class="flex-1 text-white">
              <h1 class="text-3xl font-bold mb-2">{{ currentTrainer.name }}</h1>
              <div class="flex items-center space-x-4 flex-wrap">
                <span
                  class="bg-white/20 backdrop-blur-sm px-4 py-2 rounded-xl text-sm font-medium border border-white/30"
                >
                  <i class="fas fa-tag mr-2"></i>{{ currentTrainer.category }}
                </span>
                <span class="text-white/90 flex items-center">
                  <i class="fas fa-clock mr-2"></i
                  >{{ currentTrainer.experience }} years experience
                </span>
              </div>
            </div>

            <!-- Edit Button -->
            <!-- <button
              (click)="openEditModal()"
              class="bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-semibold hover:bg-white/30 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 border border-white/30"
            >
              <i class="fas fa-edit mr-2"></i>
              Edit Profile
            </button> -->
            
            <app-button
              [icon]="'edit'"
              [text]="'Edit Profile'"
              [buttonClass]="'bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-semibold hover:bg-white/30 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 border border-white/30'"
              (clickEvent)="openEditModal()"
            ></app-button>
          </div>
        </div>
      </div>

      <!-- Profile Details -->
      <div class="p-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- Contact Information -->
          <div class="space-y-6">
            <h3
              class="text-xl font-semibold text-gray-800 mb-4 flex items-center"
            >
              <div
                class="w-8 h-8 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-3"
              >
                <i class="fas fa-user text-white text-sm"></i>
              </div>
              Contact Information
            </h3>

            <div class="space-y-4">
              <div
                class="flex items-center p-4 bg-gradient-to-r from-red-50 to-orange-50 rounded-xl border border-red-200"
              >
                <i class="fas fa-envelope text-red-500 mr-3"></i>
                <div>
                  <p class="text-sm text-gray-600">Email</p>
                  <p class="font-medium text-gray-800">
                    {{ currentTrainer.email }}
                  </p>
                </div>
              </div>

              <div
                class="flex items-center p-4 bg-gradient-to-r from-red-50 to-orange-50 rounded-xl border border-red-200"
              >
                <i class="fas fa-phone text-red-500 mr-3"></i>
                <div>
                  <p class="text-sm text-gray-600">Phone</p>
                  <p class="font-medium text-gray-800">
                    {{ currentTrainer.phoneNumber }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Specialization & Experience -->
          <div class="space-y-6">
            <h3
              class="text-xl font-semibold text-gray-800 mb-4 flex items-center"
            >
              <div
                class="w-8 h-8 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-3"
              >
                <i class="fas fa-dumbbell text-white text-sm"></i>
              </div>
              Expertise
            </h3>

            <div class="space-y-4">
              <div
                class="p-4 bg-gradient-to-r from-red-100 to-red-200 rounded-xl border border-red-300"
              >
                <p class="text-sm text-red-700 font-medium mb-1">
                  Specialization
                </p>
                <p class="text-gray-800 font-semibold">
                  {{ currentTrainer.specialization }}
                </p>
              </div>

              <div
                class="p-4 bg-gradient-to-r from-orange-100 to-orange-200 rounded-xl border border-orange-300"
              >
                <p class="text-sm text-orange-700 font-medium mb-1">
                  Experience
                </p>
                <p class="text-gray-800 font-semibold">
                  {{ currentTrainer.experience }} years
                </p>
              </div>
            </div>
          </div>

          <!-- Pricing -->
          <div class="space-y-6">
            <h3
              class="text-xl font-semibold text-gray-800 mb-4 flex items-center"
            >
              <div
                class="w-8 h-8 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-3"
              >
                <i class="fas fa-rupee-sign text-white text-sm"></i>
              </div>
              Pricing
            </h3>

            <div class="space-y-4">
              <div
                *ngIf="currentTrainer.pricing.oneToOneSession"
                class="p-4 bg-gradient-to-r from-green-100 to-green-200 rounded-xl border border-green-300"
              >
                <p class="text-sm text-green-700 font-medium mb-1">
                  1-on-1 Session
                </p>
                <p class="text-2xl font-bold text-gray-800">
                  ₹{{ currentTrainer.pricing.oneToOneSession }}
                </p>
              </div>

              <div
                *ngIf="currentTrainer.pricing.workoutPlan"
                class="p-4 bg-gradient-to-r from-purple-100 to-purple-200 rounded-xl border border-purple-300"
              >
                <p class="text-sm text-purple-700 font-medium mb-1">
                  Workout Plan
                </p>
                <p class="text-2xl font-bold text-gray-800">
                  ₹{{ currentTrainer.pricing.workoutPlan }}
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Bio Section -->
        <div
          *ngIf="currentTrainer.bio"
          class="mt-8 p-6 bg-gradient-to-r from-red-50 to-orange-50 rounded-xl border border-red-200"
        >
          <h3
            class="text-xl font-semibold text-gray-800 mb-3 flex items-center"
          >
            <div
              class="w-8 h-8 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-3"
            >
              <i class="fas fa-quote-left text-white text-sm"></i>
            </div>
            About Me
          </h3>
          <p class="text-gray-700 leading-relaxed">{{ currentTrainer.bio }}</p>
        </div>

        <!-- Certification Section -->
        <div *ngIf="certPreviewUrl" class="mt-8">
          <h3
            class="text-xl font-semibold text-gray-800 mb-4 flex items-center"
          >
            <div
              class="w-8 h-8 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-3"
            >
              <i class="fas fa-certificate text-white text-sm"></i>
            </div>
            Certification
          </h3>

          <!-- Certificate Preview Card -->
          <div
            class="bg-white rounded-xl border border-red-200 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300"
          >
            <div class="relative">
              <!-- Certificate Image -->
              <img
                [src]="certPreviewUrl"
                alt="Certification"
                class="w-full h-48 object-cover cursor-pointer hover:opacity-90 transition-opacity"
                (click)="openCertificateModal()"
              />

              <!-- Overlay with View Button -->
              <div
                class="absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center"
              >
                <button
                  (click)="openCertificateModal()"
                  class="bg-white/90 backdrop-blur-sm text-gray-800 px-6 py-3 rounded-xl font-semibold hover:bg-white transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 border border-white/50 opacity-0 hover:opacity-100"
                >
                  <i class="fas fa-eye mr-2"></i>
                  View Certificate
                </button>
              </div>

              <!-- Certificate Info -->
              <div class="p-4 bg-gradient-to-r from-red-50 to-orange-50">
                <div class="flex items-center justify-between">
                  <div>
                    <h4 class="font-semibold text-gray-800">
                      Professional Certification
                    </h4>
                    <p class="text-sm text-gray-600">
                      Click to view full certificate
                    </p>
                  </div>
                  <button
                    (click)="openCertificateModal()"
                    class="bg-gradient-to-r from-red-500 to-orange-500 text-white px-4 py-2 rounded-lg font-medium hover:from-red-600 hover:to-orange-600 transition-all duration-200 shadow-md hover:shadow-lg"
                  >
                    <i class="fas fa-external-link-alt mr-2"></i>
                    View
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Certificate View Modal -->
<div
  *ngIf="showCertificateModal"
  class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4"
  (click)="closeCertificateModal()"
>
  <div
    class="bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden"
    (click)="$event.stopPropagation()"
  >
    <!-- Modal Header -->
    <div
      class="bg-gradient-to-r from-red-600 to-orange-600 px-6 py-4 rounded-t-3xl"
    >
      <div class="flex justify-between items-center">
        <h3 class="text-2xl font-bold text-white flex items-center">
          <i class="fas fa-certificate mr-3"></i>
          Professional Certification
        </h3>
        <button
          (click)="closeCertificateModal()"
          class="text-white hover:text-red-200 text-3xl leading-none p-2 hover:bg-white/20 rounded-full transition-colors"
        >
          ×
        </button>
      </div>
    </div>

    <!-- Modal Body -->
    <div class="p-6">
      <div class="space-y-6">
        <!-- Certificate Image -->
        <div class="text-center">
          <div class="bg-gray-100 rounded-xl p-4 inline-block">
            <img
              [src]="certPreviewUrl"
              alt="Professional Certification"
              class="max-w-full max-h-96 object-contain rounded-lg shadow-lg"
            />
          </div>
        </div>

        <!-- Certificate Details -->
        <div
          class="bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-6 border border-red-200"
        >
          <h4
            class="text-xl font-semibold text-gray-800 mb-4 flex items-center"
          >
            <i class="fas fa-info-circle text-red-500 mr-2"></i>
            Certificate Information
          </h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div
              class="flex items-center p-3 bg-white rounded-lg border border-red-200"
            >
              <i class="fas fa-user-graduate text-red-500 mr-3"></i>
              <div>
                <p class="text-sm text-gray-600">Issued To</p>
                <p class="font-semibold text-gray-800">
                  {{ (currentTrainer$ | async)?.name }}
                </p>
              </div>
            </div>
            <div
              class="flex items-center p-3 bg-white rounded-lg border border-red-200"
            >
              <i class="fas fa-dumbbell text-red-500 mr-3"></i>
              <div>
                <p class="text-sm text-gray-600">Specialization</p>
                <p class="font-semibold text-gray-800">
                  {{ (currentTrainer$ | async)?.specialization }}
                </p>
              </div>
            </div>
            <div
              class="flex items-center p-3 bg-white rounded-lg border border-red-200"
            >
              <i class="fas fa-clock text-red-500 mr-3"></i>
              <div>
                <p class="text-sm text-gray-600">Experience</p>
                <p class="font-semibold text-gray-800">
                  {{ (currentTrainer$ | async)?.experience }} years
                </p>
              </div>
            </div>
            <div
              class="flex items-center p-3 bg-white rounded-lg border border-red-200"
            >
              <i class="fas fa-check-circle text-green-500 mr-3"></i>
              <div>
                <p class="text-sm text-gray-600">Status</p>
                <p class="font-semibold text-green-600">Verified</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-center space-x-4">
          <button
            (click)="downloadCertificate()"
            class="bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
          >
            <i class="fas fa-download mr-2"></i>
            Download Certificate
          </button>
          <button
            (click)="openCertificateInNewTab()"
            class="bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
          >
            <i class="fas fa-external-link-alt mr-2"></i>
            Open in New Tab
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Edit Profile Modal -->
<div
  *ngIf="showEditModal"
  class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"
  (click)="closeEditModal()"
>
  <div
    class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-red-200/50"
    (click)="$event.stopPropagation()"
  >
    <!-- Modal Header -->
    <div
      class="sticky top-0 bg-white/95 backdrop-blur-sm border-b border-red-200/50 px-6 py-4 rounded-t-3xl"
    >
      <div class="flex justify-between items-center">
        <h3 class="text-2xl font-bold text-gray-800 flex items-center">
          <div
            class="w-8 h-8 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-3"
          >
            <i class="fas fa-edit text-white text-sm"></i>
          </div>
          Edit Profile
        </h3>
        <button
          (click)="closeEditModal()"
          class="text-gray-400 hover:text-gray-600 text-3xl leading-none p-2 hover:bg-gray-100 rounded-full transition-colors"
        >
          ×
        </button>
      </div>
    </div>

    <!-- Modal Body -->
    <form
      [formGroup]="profileForm"
      (ngSubmit)="onSubmit()"
      class="p-6 space-y-6"
    >
      <!-- Personal Information Section -->
      <div class="space-y-4">
        <h4
          class="text-lg font-semibold text-gray-800 border-b border-red-200/50 pb-2 flex items-center"
        >
          <div
            class="w-6 h-6 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-2"
          >
            <i class="fas fa-user text-white text-xs"></i>
          </div>
          Personal Information
        </h4>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Full Name</label
            >
            <input
              formControlName="name"
              type="text"
              class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-800 placeholder-gray-500 transition-all"
              placeholder="Enter your full name"
            />
            <div
              *ngIf="
                profileForm.get('name')?.invalid &&
                profileForm.get('name')?.touched
              "
              class="text-red-600 text-sm mt-1 flex items-center"
            >
              <i class="fas fa-exclamation-circle mr-1"></i>
              Name is required and must be 2-25 characters.
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Phone Number</label
            >
            <input
              formControlName="phoneNumber"
              type="tel"
              class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-800 placeholder-gray-500 transition-all"
              placeholder="Enter 10-digit phone number"
            />
            <div
              *ngIf="
                profileForm.get('phoneNumber')?.invalid &&
                profileForm.get('phoneNumber')?.touched
              "
              class="text-red-600 text-sm mt-1 flex items-center"
            >
              <i class="fas fa-exclamation-circle mr-1"></i>
              Enter a valid 10-digit phone number.
            </div>
          </div>
        </div>
      </div>

      <!-- Professional Information Section -->
      <div class="space-y-4">
        <h4
          class="text-lg font-semibold text-gray-800 border-b border-red-200/50 pb-2 flex items-center"
        >
          <div
            class="w-6 h-6 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-2"
          >
            <i class="fas fa-dumbbell text-white text-xs"></i>
          </div>
          Professional Information
        </h4>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Category</label
            >
            <select
              formControlName="category"
              (change)="onCategoryChange($event)"
              class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-800 transition-all appearance-none cursor-pointer"
            >
              <option value="" disabled class="bg-white text-gray-800">
                Select a category
              </option>
              <option
                *ngFor="let cat of categories"
                [value]="cat.value"
                class="bg-white text-gray-800"
              >
                {{ cat.label }}
              </option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Specialization</label
            >
            <select
              formControlName="specialization"
              class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-800 transition-all appearance-none cursor-pointer"
            >
              <option value="" class="bg-white text-gray-800">
                Select your specialization
              </option>
              <option
                *ngFor="let spec of availableSpecializations"
                [value]="spec"
                class="bg-white text-gray-800"
              >
                {{ spec }}
              </option>
            </select>
            <div
              *ngIf="showSpecializationError"
              class="text-red-600 text-sm mt-1 flex items-center"
            >
              <i class="fas fa-exclamation-circle mr-1"></i>
              Please select a specialization.
            </div>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Years of Experience</label
          >
          <select
            formControlName="experience"
            class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-800 transition-all appearance-none cursor-pointer"
          >
            <option value="" disabled class="bg-white text-gray-800">
              Select years of experience
            </option>
            <option value="0" class="bg-white text-gray-800">
              Less than 1 year
            </option>
            <option value="1" class="bg-white text-gray-800">1 year</option>
            <option value="2" class="bg-white text-gray-800">2 years</option>
            <option value="3" class="bg-white text-gray-800">3 years</option>
            <option value="4" class="bg-white text-gray-800">4 years</option>
            <option value="5" class="bg-white text-gray-800">5 years</option>
            <option value="6" class="bg-white text-gray-800">6 years</option>
            <option value="7" class="bg-white text-gray-800">7 years</option>
            <option value="8" class="bg-white text-gray-800">8 years</option>
            <option value="9" class="bg-white text-gray-800">9 years</option>
            <option value="10" class="bg-white text-gray-800">10+ years</option>
          </select>
          <div
            *ngIf="
              profileForm.get('experience')?.invalid &&
              profileForm.get('experience')?.touched
            "
            class="text-red-600 text-sm mt-1 flex items-center"
          >
            <i class="fas fa-exclamation-circle mr-1"></i>
            Enter a valid experience (0-100 years).
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Bio</label
          >
          <textarea
            formControlName="bio"
            rows="4"
            class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-800 placeholder-gray-500 transition-all resize-none"
            placeholder="Tell us about yourself and your expertise..."
          ></textarea>
          <div
            *ngIf="
              profileForm.get('bio')?.invalid && profileForm.get('bio')?.touched
            "
            class="text-red-600 text-sm mt-1 flex items-center"
          >
            <i class="fas fa-exclamation-circle mr-1"></i>
            Bio must be between 1-100 characters.
          </div>
        </div>
      </div>

      <!-- Pricing Section -->
      <div class="space-y-4">
        <h4
          class="text-lg font-semibold text-gray-800 border-b border-red-200/50 pb-2 flex items-center"
        >
          <div
            class="w-6 h-6 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-2"
          >
            <i class="fas fa-rupee-sign text-white text-xs"></i>
          </div>
          Pricing
        </h4>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >1-on-1 Session Price (₹)</label
            >
            <input
              formControlName="oneToOneSessionPrice"
              type="number"
              min="0"
              class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-800 placeholder-gray-500 transition-all"
              placeholder="Enter price for 1-on-1 sessions"
            />
            <div
              *ngIf="
                profileForm.get('oneToOneSessionPrice')?.invalid &&
                profileForm.get('oneToOneSessionPrice')?.touched
              "
              class="text-red-600 text-sm mt-1 flex items-center"
            >
              <i class="fas fa-exclamation-circle mr-1"></i>
              Enter a valid price (0-100,000).
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Workout Plan Price (₹)</label
            >
            <input
              formControlName="workoutPlanPrice"
              type="number"
              min="0"
              class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-800 placeholder-gray-500 transition-all"
              placeholder="Enter price for workout plans"
            />
            <div
              *ngIf="
                profileForm.get('workoutPlanPrice')?.invalid &&
                profileForm.get('workoutPlanPrice')?.touched
              "
              class="text-red-600 text-sm mt-1 flex items-center"
            >
              <i class="fas fa-exclamation-circle mr-1"></i>
              Enter a valid price (0-100,000).
            </div>
          </div>
        </div>
      </div>

      <!-- Files Section -->
      <div class="space-y-4">
        <h4
          class="text-lg font-semibold text-gray-800 border-b border-red-200/50 pb-2 flex items-center"
        >
          <div
            class="w-6 h-6 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mr-2"
          >
            <i class="fas fa-file-upload text-white text-xs"></i>
          </div>
          Documents & Images
        </h4>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Certification</label
            >
            <div class="relative">
              <input
                type="file"
                (change)="onFileSelect($event, 'certification')"
                class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-red-500/20 file:text-red-600 hover:file:bg-red-500/30 transition-all text-gray-800"
              />
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2"
              >Profile Image</label
            >
            <div class="relative">
              <input
                type="file"
                (change)="onFileSelect($event, 'image')"
                class="w-full px-4 py-3 bg-white border border-red-200 rounded-xl text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-red-500/20 file:text-red-600 hover:file:bg-red-500/30 transition-all text-gray-800"
              />
            </div>
          </div>
        </div>

        <!-- Preview Images -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div *ngIf="certPreviewUrl" class="text-center">
            <p class="text-sm font-medium text-gray-700 mb-2">
              Certification Preview
            </p>
            <img
              [src]="certPreviewUrl"
              alt="Certification"
              class="max-w-full h-32 object-cover rounded-xl border border-red-200"
            />
          </div>

          <div *ngIf="imagePreviewUrl" class="text-center">
            <p class="text-sm font-medium text-gray-700 mb-2">
              Profile Image Preview
            </p>
            <img
              [src]="imagePreviewUrl"
              alt="Profile Image"
              class="max-w-full h-32 object-cover rounded-xl border border-red-200"
            />
          </div>
        </div>
      </div>

      <!-- Modal Footer -->
      <div class="flex gap-4 pt-6 border-t border-red-200/50">
        <button
          type="button"
          (click)="closeEditModal()"
          class="flex-1 px-6 py-3 border border-red-300 text-gray-700 rounded-xl font-medium hover:bg-red-50 transition-all duration-200"
        >
          Cancel
        </button>
        <button
          type="submit"
          [disabled]="profileForm.invalid"
          class="flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-xl font-medium hover:from-red-700 hover:to-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200"
        >
          Update Profile
        </button>
      </div>
    </form>
  </div>
</div>

<style>
  /* Custom select arrow */
  select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23dc2626' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .p-8 {
      padding: 1.5rem;
    }

    .p-6 {
      padding: 1rem;
    }
  }
</style>
