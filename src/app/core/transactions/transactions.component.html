


<div class="transactions-container">

  <div class="wallet-balance-section" *ngIf="role === 
  'user'">
    <div class="wallet-card">
      <div class="wallet-header">
        <h3>ðŸ’° Wallet Balance</h3>
        
          <span class="refresh-icon">ðŸ”„ {{balance }}</span>
     
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div class="loading-container" *ngIf="loading">
    <div class="loading-spinner"></div>
    <p>Loading transactions...</p>
  </div>

  <!-- Error State -->

  <!-- Transactions Table -->
  <div class="transactions-table-container" *ngIf="!loading && !error">
    <!-- Empty State -->
    <div class="empty-state" *ngIf="filteredTransactions.length === 0">
      <div class="empty-icon">ðŸ“Š</div>
      <h3>No Transactions Found</h3>
      <p>There are no transactions matching your criteria.</p>
    </div>

    <!-- Transactions Table -->
    <div class="table-wrapper" *ngIf="filteredTransactions.length > 0">
      <table class="transactions-table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Name</th>
            <th>Payment Method</th>
            <th>Type</th>
            <th>Amount</th>
            <!-- <th *ngIf="canViewAllTransactions()">From User</th>
            <th *ngIf="canViewAllTransactions()">To User</th> -->
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let transaction of getPaginatedTransactions()"
            class="transaction-row"
          >
            <td class="date-cell">
              {{ formatDate(transaction.createdAt) }}
            </td>
            <td class="payment-id-cell">
              <span class="payment-id">{{ transaction.fromUser.name }}</span>
            </td>
            <td class="order-id-cell">
              <span class="order-id">{{ transaction.bookingMethod }}</span>
            </td>
            <td class="type-cell">
              <span
                class="transaction-type"
                [class]="transaction.sourceType.toLowerCase()"
              >
                {{ getTransactionTypeLabel(transaction.sourceType) }}
              </span>
            </td>
            <td class="amount-cell">
              <span class="amount" [class.positive]="transaction.amount > 0">
                {{ formatCurrency(transaction.amount, transaction.currency) }}
              </span>
            </td>
            <!-- <td class="user-cell" *ngIf="canViewAllTransactions()">
              {{ transaction.fromUser }}
            </td>
            <td class="user-cell" *ngIf="canViewAllTransactions()">
              {{ transaction.toUser }}
            </td> -->
            <td class="status-cell">
              <span
                class="status-badge"
                [class.completed]="transaction.paymentSignature"
                [class.pending]="!transaction.paymentSignature"
              >
                {{ transaction.paymentSignature ? "Completed" : "Pending" }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
